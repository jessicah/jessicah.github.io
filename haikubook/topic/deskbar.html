
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BDeskbar &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/code.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="JSON Handling" href="json.html" />
    <link rel="prev" title="The Application Kit" href="../kits/translation/overview.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>The Haiku Book  documentation</span></a></h1>
        <h2 class="heading"><span>BDeskbar</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="../kits/translation/overview.html">The Application Kit</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="json.html">JSON Handling</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv48BDeskbar">
<span id="_CPPv38BDeskbar"></span><span id="_CPPv28BDeskbar"></span><span id="BDeskbar"></span><pre style="background: #f3f3f3"><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BDeskbar</span></span></span><a class="headerlink" href="#_CPPv48BDeskbar" title="Permalink to this definition">¶</a><br /></pre></dt>
<dd></dd></dl>

<section id="bdeskbar">
<h1>BDeskbar<a class="headerlink" href="#bdeskbar" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<dl>
<dt>BDeskbar()</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BDeskbar</span><span class="p">();</span>
</pre></div>
</div>
<p>The constructor creates and returns a new <a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BDeskbar</span></code></a> object.</p>
</dd>
<dt>~BDeskbar()</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BDeskbar</span><span class="p">();</span>
</pre></div>
</div>
<p>Deletes the <a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BDeskbar</span></code></a> object.</p>
</dd>
</dl>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8BDeskbar7AddItemEv">
<span id="_CPPv3N8BDeskbar7AddItemEv"></span><span id="_CPPv2N8BDeskbar7AddItemEv"></span><span id="BDeskbar::AddItem"></span><pre style="background: #f3f3f3"><span class="n"><span class="pre">status_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><span class="n"><span class="pre">BDeskbar</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">AddItem</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8BDeskbar7AddItemEv" title="Permalink to this definition">¶</a><br /></pre></dt>
<dt class="sig sig-object cpp" id="_CPPv4N8BDeskbar10RemoveItemEv">
<span id="_CPPv3N8BDeskbar10RemoveItemEv"></span><span id="_CPPv2N8BDeskbar10RemoveItemEv"></span><span id="BDeskbar::RemoveItem"></span><pre style="background: #f3f3f3"><span class="n"><span class="pre">status_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><span class="n"><span class="pre">BDeskbar</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">RemoveItem</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8BDeskbar10RemoveItemEv" title="Permalink to this definition">¶</a><br /></pre></dt>
<dt class="sig sig-object cpp" id="_CPPv4N8BDeskbar10CountItemsEv">
<span id="_CPPv3N8BDeskbar10CountItemsEv"></span><span id="_CPPv2N8BDeskbar10CountItemsEv"></span><span id="BDeskbar::CountItems"></span><pre style="background: #f3f3f3"><span class="n"><span class="pre">status_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><span class="n"><span class="pre">BDeskbar</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">CountItems</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8BDeskbar10CountItemsEv" title="Permalink to this definition">¶</a><br /></pre></dt>
<dt class="sig sig-object cpp" id="_CPPv4N8BDeskbar8HasItemsEv">
<span id="_CPPv3N8BDeskbar8HasItemsEv"></span><span id="_CPPv2N8BDeskbar8HasItemsEv"></span><span id="BDeskbar::HasItems"></span><pre style="background: #f3f3f3"><span class="n"><span class="pre">status_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><span class="n"><span class="pre">BDeskbar</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">HasItems</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8BDeskbar8HasItemsEv" title="Permalink to this definition">¶</a><br /></pre></dt>
<dt class="sig sig-object cpp" id="_CPPv4N8BDeskbar11GetItemInfoEv">
<span id="_CPPv3N8BDeskbar11GetItemInfoEv"></span><span id="_CPPv2N8BDeskbar11GetItemInfoEv"></span><span id="BDeskbar::GetItemInfo"></span><pre style="background: #f3f3f3"><span class="n"><span class="pre">status_t</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv48BDeskbar" title="BDeskbar"><span class="n"><span class="pre">BDeskbar</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">GetItemInfo</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8BDeskbar11GetItemInfoEv" title="Permalink to this definition">¶</a><br /></pre></dt>
<dd></dd></dl>

<dl>
<dt>AddItem(), RemoveItem(), CountItems(), HasItem(), GetItemInfo()</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status_t</span> <span class="n">AddItem</span><span class="p">(</span><span class="n">BView</span><span class="o">*</span> <span class="n">view</span><span class="p">,</span>
                 <span class="n">int32</span><span class="o">*</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">NULL</span><span class="p">);</span>
<span class="n">status_t</span> <span class="n">AddItem</span><span class="p">(</span><span class="n">entry_ref</span><span class="o">*</span> <span class="n">addon</span><span class="p">,</span>
                 <span class="n">int32</span><span class="o">*</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">NULL</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status_t</span> <span class="n">RemoveItem</span><span class="p">(</span><span class="n">int32</span> <span class="nb">id</span><span class="p">);</span>
<span class="n">status_t</span> <span class="n">RemoveItem</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="n">CountItems</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">HasItem</span><span class="p">(</span><span class="n">int32</span> <span class="nb">id</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="nb">bool</span> <span class="n">HasItem</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status_t</span> <span class="n">GetItemInfo</span><span class="p">(</span><span class="n">int32</span> <span class="n">for_id</span><span class="p">,</span>
                                        <span class="n">const</span> <span class="n">char</span><span class="o">**</span> <span class="n">found_name</span><span class="p">);</span>
<span class="n">status_t</span> <span class="n">GetItemInfo</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">for_name</span><span class="p">,</span>
                                        <span class="n">const</span> <span class="n">int32</span><span class="o">*</span> <span class="n">found_id</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A view that’s sitting on the Deskbar’s shelf may not call any of these functions.</p>
</div>
<p>The Deskbar contains a shelf that contains replicants (archivable
:cpp:class:<a href="#id1"><span class="problematic" id="id2">`</span></a>BView`s). Typically, these replicants monitor or control some
service. For example, the BeOS provides shelf items that monitor and control the
input method mechanism, PPP, and the mail daemon (the date/time view is not a
shelf replicant).</p>
<p>&lt;&lt;image of the ProcessController replicant&gt;&gt;</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">AddItem()</span></code> puts a new item on the Deskbar’s shelf
<span class="cpp-expr sig sig-inline cpp"><span class="n">view</span></span>, the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> that will be displayed on the shelf,
must be archivable (see <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BArchivable</span></code>). An item on the shelf is
identified by name and an integer id. The name is that of the view itself (i.e.,
as assigned in the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> constructor); the id is generated by the
Deskbar and is guaranteed to be unique. <span class="cpp-expr sig sig-inline cpp"><span class="n">id</span></span>, if supplied, is set to
the added item’s unique id number.</p>
<p>You can also add an item to the Deskbar by passing an entry_ref,
<span class="cpp-expr sig sig-inline cpp"><span class="n">addon</span></span>, to the Deskbar add-on to place there.</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">RemoveItem()</span></code> removes the shelf item identified by
<span class="cpp-expr sig sig-inline cpp"><span class="n">name</span></span> or <span class="cpp-expr sig sig-inline cpp"><span class="n">id</span></span>.</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">CountItems()</span></code> returns the number of items currently on the shelf
(keep in mind that it doesn’t count the date/time view).</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">HasItem()</span></code> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the Deskbar shelf contains
the item identified by <span class="cpp-expr sig sig-inline cpp"><span class="n">name</span></span> or <span class="cpp-expr sig sig-inline cpp"><span class="n">id</span></span>.</p>
<p><a class="reference internal" href="#_CPPv4N8BDeskbar11GetItemInfoEv" title="BDeskbar::GetItemInfo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetItemInfo()</span></code></a> points <span class="cpp-expr sig sig-inline cpp"><span class="n">found_name</span></span> to the name of the
item identified by <span class="cpp-expr sig sig-inline cpp"><span class="n">for_id</span></span>, or sets <span class="cpp-expr sig sig-inline cpp"><span class="n">found_id</span></span> of the item
identified by <span class="cpp-expr sig sig-inline cpp"><span class="n">for_name</span></span>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The caller is responsbile for freeing <span class="cpp-expr sig sig-inline cpp"><span class="n">found_name</span></span>.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OK</span></code></p></td>
<td><p>The request to add, remove, or get info on the
item was successfully communicated to the Deskbar. Note that this doesn’t
mean that the function actually did what it was supposed to do.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BAD_VALUE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp GetItemInfo()"><span class="n">GetItemInfo</span><span class="p">(</span><span class="p">)</span></span>
<span class="cpp-expr sig sig-inline cpp found_name"><span class="n">found_name</span></span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>Negative values</p></td>
<td><p>A message-sending error occurred</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Frame()</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>:cpp:class:`BRect` Frame() const;
</pre></div>
</div>
<p>Returns the Deskbar’s frame in screen coordinates.</p>
</dd>
<dt>Location(), IsExpanded(), SetLocation(), Expand()</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deskbar_location</span> <span class="n">Location</span><span class="p">(</span><span class="nb">bool</span><span class="o">*</span> <span class="n">isExpanded</span> <span class="o">=</span> <span class="n">NULL</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">IsExpanded</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status_t</span> <span class="n">SetLocation</span><span class="p">(</span><span class="n">deskbar_location</span> <span class="n">location</span><span class="p">)</span>
                                        <span class="nb">bool</span> <span class="n">isExpanded</span> <span class="o">=</span> <span class="n">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status_t</span> <span class="n">Expand</span><span class="p">(</span><span class="nb">bool</span> <span class="n">expand</span><span class="p">);</span>
</pre></div>
</div>
<p><a href="#id3"><span class="problematic" id="id4">:cpp:function:`Location()`</span></a> returns a symbolic description of the Deskbar’s
current location; see <span class="cpp-expr sig sig-inline cpp"><span class="n">deskbar_location</span></span> for the list of pre-defined
locations. <span class="cpp-expr sig sig-inline cpp"><span class="n">isExpanded</span></span> (if supplied) is set to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if
the Deskbar is expanded, and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> if it’s contracted;
<a href="#id5"><span class="problematic" id="id6">:cpp:function:`IsExpanded()`</span></a> returns the expansion value directly. Expansion and
contraction is variable only if the Deskbar’s location is left-top or right-top;
for all other locations, the expansion state is hard-wired. See
<span class="cpp-expr sig sig-inline cpp"><span class="n">deskbar_location</span></span> for illustrations.</p>
<p><a href="#id7"><span class="problematic" id="id8">:cpp:function:`SetLocation()`</span></a> sets the Deskbar’s location and expands/contracts
the Deskbar; for some locations, the expansion/contraction is hard-wired.
<a href="#id9"><span class="problematic" id="id10">:cpp:function:`Expand()`</span></a> expands/contracts the Deskbar (if the setting isn’t
hard-wired) without setting its location. You should very rarely need to call
these functions. Moving and expanding the Deskbar is in the user’s domain.</p>
<p><a href="#id11"><span class="problematic" id="id12">:cpp:function:`SetLocation()`</span></a> and <a href="#id13"><span class="problematic" id="id14">:cpp:function:`Expand()`</span></a> return…</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OK</span></code></p></td>
<td><p>The new location or expansion request was
successfully communicated to the Deskbar. Whether the parameters were
actually enforced isn’t indicated.</p></td>
</tr>
<tr class="row-odd"><td><p>Negative values</p></td>
<td><p>The Deskbar isn’t running, or some other
message-sending error occurred.</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</section>
<section id="deskbar-types">
<h2>Deskbar Types<a class="headerlink" href="#deskbar-types" title="Permalink to this heading">¶</a></h2>
<dl>
<dt>Deskbar Location</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="n">deskbar_location</span><span class="p">;</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_TOP</span></code></p></td>
<td><p>Expanded (only) along the top.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_BOTTOM</span></code></p></td>
<td><p>Expanded (only) along the bottom.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_LEFT_BOTTOM</span></code></p></td>
<td><p>Contracted (only) in the bottom left corner</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_RIGHT_BOTTOM</span></code></p></td>
<td><p>Contracted (only) in the bottom right corner</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_LEFT_TOP</span></code></p></td>
<td><p>In the top left corner (expanded or contracted)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_RIGHT_TOP</span></code></p></td>
<td><p>In the top right corner (expanded or contracted)</p></td>
</tr>
</tbody>
</table>
<p>The <span class="cpp-expr sig sig-inline cpp"><span class="n">deskbar_location</span></span> constants are used to set and return the
Deskbar’s location (see <a href="#id15"><span class="problematic" id="id16">:cpp:function:`Location()`</span></a>). The six locations are shown
in the two illustrations below:</p>
<p>&lt;&lt;image 1&gt;&gt;</p>
<p>&lt;&lt;image 2&gt;&gt;</p>
<p>The <span class="cpp-expr sig sig-inline cpp"><span class="n">deskbar_location</span></span> value affects the Deskbar’s expanded state: The
Deskbar can be expanded or contracted in a <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKBAR_LEFT_TOP</span></code> and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DESKTOP_RIGHT_TOP</span></code> locations only. In the other locations, the
expansion/contraction is hard-wired. The illustration below shows a left-top
Deskbar in its expanded and contracted states:</p>
<p>&lt;&lt;image 3&gt;&gt;</p>
</dd>
</dl>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="../kits/translation/overview.html">The Application Kit</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="json.html">JSON Handling</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Haiku.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>